<ng-container *ngIf="post$ | async as post">
    <div class="mb-4">
        <app-title [typePage]="'post'" [title]="post.title"></app-title>

        <div class="grid grid-cols-3">
            <span>{{post.updatedAt}}</span>
            <span>{{post.user.name}}</span>
            <span>{{post.subject.title}}</span>
        </div>

        <p class="mt-4 text-justify">
            {{ post.content }}  
        </p>
    </div>
    
    <div class="w-[90%] mx-auto mt-4 border-2 border-b border-black"></div>

    <div class="mt-4">
        <h2 class="text-xl font-bold mb-4">{{ labelsForInterface.comments }}</h2>

        <div *ngFor="let comment of post.comments" class="mb-6 border-b pb-4">
            <div class="grid grid-cols-2 mb-2">
                <span>{{ comment.user.name }}</span>
                <p>{{comment.message}}</p>
            </div>
        </div>
    </div>
    <div>
        <form #messageForm="ngForm" (ngSubmit)="onMessageSubmit(messageForm)">
            <mat-form-field class="w-full">
                <textarea 
                    matInput 
                    placeholder="{{ labelsForInterface.ph_inputComment }}" 
                    name="message" 
                    ngModel 
                    required
                    class="!border !border-black !rounded-lg !px-3 !py-3 focus:!border-blue-500">
                </textarea>
            </mat-form-field>
            <button 
                type="submit" 
                [disabled]="messageForm.invalid">
                <mat-icon>send</mat-icon>
            </button>
        </form>
    </div>
</ng-container>